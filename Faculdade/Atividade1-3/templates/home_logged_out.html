{% extends "base.html" %}
{% block title %}Bem-vindo ao Conecta Investe{% endblock %}
{% block content %}
{# Removido bg-light e adicionado hero-jumbotron para controle via CSS #}
<div class="p-5 mb-4 rounded-3 shadow-sm hero-jumbotron">
    <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold">Conectando Negócios e Investidores</h1>
        <p class="col-md-8 fs-4">O Conecta Investe é a plataforma ideal para empreendedores que buscam patrocínio e para sponsors que desejam investir em projetos promissores.</p>
        <p>Nossa missão é simplificar a descoberta de parcerias estratégicas e financeiras.</p>
        <div class="mt-4">
            <a href="{{ url_for('register') }}" class="btn btn-primary btn-lg me-2">Quero me Cadastrar</a>
            <a href="{{ url_for('login') }}" class="btn btn-outline-secondary btn-lg">Já tenho conta (Login)</a>
        </div>
    </div>
</div>
<div class="row align-items-md-stretch">
    <div class="col-md-12">
        {# Removido bg-white e adicionado how-it-works-section para controle via CSS #}
        <div class="h-100 p-5 border rounded-3 shadow-sm how-it-works-section">
            <h2>Como Funciona?</h2>
            <ol class="fs-5">
                <li><strong>Cadastre-se:</strong> Escolha seu perfil, Empreendedor/Loja ou Sponsor/Patrocinador.</li>
                <li><strong>Crie seu Perfil:</strong> Detalhe suas necessidades ou o que você oferece.</li>
                <li><strong>Compartilhe seus Projetos:</strong> Crie posts sobre suas ideias e novidades.</li>
                <li><strong>Explore os Feeds:</strong> Descubra oportunidades e posts compatíveis com seus objetivos.</li>
                <li><strong>Conecte-se:</strong> Utilize as informações de contato para iniciar conversas promissoras.</li>
            </ol>
        </div>
    </div>
</div>
<hr class="my-4">
<h2 class="mb-3">Últimos Posts da Comunidade</h2>
{% if posts %}
    {% for post in posts %}
    <div class="card mb-3 shadow-sm">
        {# Removido bg-light para que o tema CSS controle o fundo do card-header #}
        <div class="card-header d-flex align-items-center p-2">
            <img src="{{ post.user_profile_pic_url or url_for('static', filename='profile_pics/default_avatar.png') }}" alt="Foto de {{ post.user_name }}" class="rounded-circle me-2" style="width: 40px; height: 40px; object-fit: cover;">
            <div>
                <strong class="d-block">{{ post.user_name }}</strong>
                <small class="text-muted">{{ post.created_at.strftime('%d/%m/%Y às %H:%M') }}</small>
            </div>
        </div>
        <div class="card-body">
            {% if post.text_content %}
                <p class="card-text" style="white-space: pre-wrap;">{{ post.text_content }}</p>
            {% endif %}
            {% if post.image_filename %}
                <div class="text-center mt-2">
                    <img src="{{ post.display_image_url }}" class="img-fluid rounded border" alt="Imagem do Post" style="max-height: 500px;">
                </div>
            {% endif %}
        </div>
    </div>
    {% endfor %}
{% else %}
    {# Alterado de alert-secondary para alert-info para consistência e melhor adaptação ao tema #}
    <div class="alert alert-info text-center">
        <p class="mb-0">Nenhum post na comunidade ainda. Volte em breve!</p>
    </div>
{% endif %}
{% endblock %}