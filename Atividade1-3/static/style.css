/* static/style.css */

/* CSS Variables for Theming */
:root {
    /* Light Theme (Default) */
    --primary-color: #007bff; /* Azul para botões, links principais */
    --secondary-color: #6c757d; /* Cinza para botões secundários */
    --background-color: #f8f9fa; /* Fundo claro da página */
    --surface-color: #ffffff; /* Fundo de cards, formulários */
    --text-color: #212529; /* Cor do texto principal */
    --text-muted-color: #6c757d; /* Cor do texto secundário/muted */
    --border-color: #dee2e6; /* Cor das bordas */
    --header-bg-color: #ffffff; /* Fundo do cabeçalho */
    --header-text-color: #212529; /* Cor do texto do cabeçalho */
    --link-color: #007bff; /* Cor dos links */
    --link-hover-color: #0056b3; /* Cor dos links ao passar o mouse */
    --footer-bg-color: #e9ecef; /* Fundo do rodapé */
    --footer-text-color: #495057; /* Cor do texto do rodapé */
    --alert-info-bg: #d1ecf1;
    --alert-info-text: #0c5460;
    --alert-success-bg: #d4edda;
    --alert-success-text: #155724;
    --alert-error-bg: #f8d7da; /* Using alert-error for 'error' category from Flask */
    --alert-error-text: #721c24;
    --list-group-item-info-bg: #e2f2f7; /* Cor para notificações não lidas */
    --list-group-item-info-text: #0a4f5c;
    --hr-color: #ccc; /* Cor da linha horizontal */
    --shadow-color: rgba(0,0,0,0.1); /* Sombra para elementos como cards */
}

/* Variáveis CSS para o tema escuro */
body.dark-theme {
    --primary-color: #66b3ff; /* Azul mais claro para Dark Mode */
    --secondary-color: #8c9094; /* Cinza mais claro */
    --background-color: #343a40; /* Fundo escuro da página */
    --surface-color: #454d55; /* Fundo de cards, formulários no Dark Mode */
    --text-color: #f8f9fa; /* Cor do texto principal no Dark Mode */
    --text-muted-color: #ced4da; /* Cor do texto secundário/muted no Dark Mode */
    --border-color: #6c757d; /* Cor das bordas no Dark Mode */
    --header-bg-color: #212529; /* Fundo do cabeçalho no Dark Mode */
    --header-text-color: #f8f9fa; /* Cor do texto do cabeçalho no Dark Mode */
    --link-color: #90caf9; /* Cor dos links no Dark Mode */
    --link-hover-color: #bbdefb; /* Cor dos links ao passar o mouse no Dark Mode */
    --footer-bg-color: #212529; /* Fundo do rodapé no Dark Mode */
    --footer-text-color: #adb5bd; /* Cor do texto do rodapé no Dark Mode */
    --alert-info-bg: #2d5a6b;
    --alert-info-text: #b8daff;
    --alert-success-bg: #3f604d;
    --alert-success-text: #c3e6cb;
    --alert-error-bg: #743a3d;
    --alert-error-text: #f5c6cb;
    --list-group-item-info-bg: #4f6b76; /* Cor para notificações não lidas no Dark Mode */
    --list-group-item-info-text: #d4e8ed;
    --hr-color: #444; /* Cor da linha horizontal no Dark Mode */
    --shadow-color: rgba(0,0,0,0.3); /* Sombra mais escura para Dark Mode */
}

/* Estilos gerais usando as variáveis */
body {
    font-family: Arial, sans-serif;
    background-color: var(--background-color);
    color: var(--text-color);
    transition: background-color 0.3s ease, color 0.3s ease; /* Transição suave para mudança de tema */
    margin: 0;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

.container {
    max-width: 960px;
    margin: 20px auto;
    padding: 0 15px;
    flex-grow: 1; /* Faz com que o container ocupe o espaço restante */
}

/* Navbar (o Bootstrap já cuida da maioria, mas para compatibilidade com o tema) */
.navbar {
    background-color: var(--header-bg-color); /* Usando variável para o nav */
    color: var(--header-text-color);
    border-bottom: 1px solid var(--border-color);
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    box-shadow: 0 2px 5px var(--shadow-color); /* Adiciona sombra ao nav */
}

.navbar-brand {
    color: var(--header-text-color) !important; /* !important para sobrescrever o Bootstrap */
}

.navbar-nav .nav-link {
    color: var(--link-color);
    transition: color 0.3s ease;
}

.navbar-nav .nav-link:hover {
    color: var(--link-hover-color);
}

/* Main Content Area */
main {
    padding: 20px 0;
}

/* Flash messages */
.flashes {
    list-style: none;
    padding: 0;
    margin-bottom: 20px;
}

.flashes li {
    padding: 1rem 1.25rem;
    margin-bottom: 1rem;
    border: 1px solid transparent;
    border-radius: 0.25rem;
}

.alert-info {
    color: var(--alert-info-text);
    background-color: var(--alert-info-bg);
    border-color: var(--alert-info-bg);
}

.alert-success {
    color: var(--alert-success-text);
    background-color: var(--alert-success-bg);
    border-color: var(--alert-success-bg);
}

.alert-error { /* Using .alert-error for 'error' category in Flask */
    color: var(--alert-error-text);
    background-color: var(--alert-error-bg);
    border-color: var(--alert-error-bg);
}

/* General styling for feed items, profile views, settings sections, and Bootstrap Cards */
.feed-item, .profile-view .profile-details, .settings-section, .dashboard-intro, .card {
    background-color: var(--surface-color);
    color: var(--text-color); /* Adicionado para garantir a cor do texto nos cards */
    border: 1px solid var(--border-color);
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 15px;
    box-shadow: 0 2px 4px var(--shadow-color); /* Usando variável de sombra */
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease, color 0.3s ease;
}

/* Card Header specific styling */
.card-header {
    background-color: var(--surface-color); /* Fundo do cabeçalho do card */
    color: var(--text-color);
    border-bottom: 1px solid var(--border-color);
    padding: 10px 20px;
    font-weight: bold;
    border-top-left-radius: calc(8px - 1px); /* Ajusta o raio da borda superior */
    border-top-right-radius: calc(8px - 1px);
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Specific styling for elements within cards/sections */
.feed-item-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.feed-profile-pic {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    object-fit: cover;
    margin-right: 15px;
    border: 2px solid var(--border-color);
}

.profile-main-pic {
    width: 150px;
    height: 150px;
    border-radius: 50%;
    object-fit: cover;
    margin: 0 auto 20px auto; /* Centered for view_profile */
    border: 2px solid var(--border-color);
    display: block; /* Ensure it's a block element for margin: auto */
}

/* Buttons */
button, .button-link {
    display: inline-block;
    padding: 10px 20px;
    border-radius: 5px;
    text-decoration: none;
    font-weight: bold;
    cursor: pointer;
    text-align: center;
    border: none;
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

button[type="submit"], .button-link {
    background-color: var(--primary-color);
    color: var(--surface-color); /* Texto do botão principal deve ser claro */
}

button[type="submit"]:hover, .button-link:hover {
    background-color: var(--link-hover-color);
}

.button-secondary {
    background-color: var(--secondary-color);
    color: var(--surface-color);
}

.button-secondary:hover {
    background-color: #5a6268; /* Hardcoded hover for secondary, can be a variable */
}

/* Forms */
form div {
    margin-bottom: 15px;
}

form label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
    color: var(--text-color); /* Label text color */
}

input[type="email"],
input[type="password"],
input[type="text"],
select,
textarea,
.form-control, /* Adicionado para capturar classes do Bootstrap */
.form-select { /* Adicionado para capturar classes do Bootstrap */
    background-color: var(--surface-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 10px;
    border-radius: 4px;
    width: 100%;
    box-sizing: border-box;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

input[type="email"]:focus,
input[type="password"]:focus,
input[type="text"]:focus,
select:focus,
textarea:focus,
.form-control:focus,
.form-select:focus {
    border-color: var(--primary-color);
    outline: none;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25); /* Bootstrap-like focus effect */
}

/* Placeholder color */
input::placeholder,
textarea::placeholder {
    color: var(--text-muted-color);
}

/* Dropdown menus */
.dropdown-menu {
    background-color: var(--surface-color);
    border: 1px solid var(--border-color);
    box-shadow: 0 0.5rem 1rem var(--shadow-color);
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
}

.dropdown-item {
    color: var(--text-color);
    transition: background-color 0.3s ease, color 0.3s ease;
}

.dropdown-item:hover,
.dropdown-item:focus {
    background-color: var(--secondary-color); /* Usado como hover, pode ser uma nova variável se desejar */
    color: var(--text-color); /* Mantém a cor do texto no hover */
}

.dropdown-header {
    color: var(--text-muted-color);
}

/* Horizontal Rule */
hr {
    border: 0;
    height: 1px;
    background: var(--hr-color);
    margin: 25px 0;
    transition: background 0.3s ease;
}

/* Footer */
footer {
    background-color: var(--footer-bg-color);
    color: var(--footer-text-color);
    padding: 20px;
    text-align: center;
    margin-top: auto; /* Push footer to the bottom */
    border-top: 1px solid var(--border-color);
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
}

/* Specific card styles for theme compatibility */
.hero-jumbotron, .how-it-works-section, .profile-form-card, .auth-card, .settings-card, .profile-main-card {
    background-color: var(--surface-color);
    color: var(--text-color);
    transition: background-color 0.3s ease, color 0.3s ease;
}

/* Login/Registration specific styles (consolidated into .auth-card) */
.auth-card {
    max-width: 400px;
    margin: 50px auto;
    padding: 30px;
    text-align: center;
    /* Background, border-radius, box-shadow, transition já vêm de .card ou da classe customizada */
}

.auth-card h2 {
    color: var(--primary-color);
    margin-bottom: 20px;
}

/* Adjustments for a and p tags in login/register */
.auth-card p {
    color: var(--text-color);
}

.auth-card a {
    color: var(--link-color);
    text-decoration: none;
}

.auth-card a:hover {
    color: var(--link-hover-color);
    text-decoration: underline;
}

/* Notifications list */
.list-group {
    list-style: none;
    padding: 0;
    margin: 0;
}

.list-group-item {
    background-color: var(--surface-color);
    color: var(--text-color);
    border: 1px solid var(--border-color);
    padding: 15px;
    margin-bottom: 10px;
    border-radius: 5px;
    display: flex;
    flex-direction: column;
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
}

.list-group-item-info { /* Used for unread notifications */
    background-color: var(--list-group-item-info-bg);
    color: var(--list-group-item-info-text);
    border-color: var(--list-group-item-info-bg);
    font-weight: bold; /* Make unread notifications stand out a bit */
}

.list-group-item p {
    margin: 0 0 5px 0;
}

.list-group-item .notification-date {
    font-size: 0.85em;
    color: var(--text-muted-color);
}

/* Helper classes */
.text-muted {
    color: var(--text-muted-color) !important; /* Use !important to ensure override */
}

/* Profile prompt in home_logged_in.html */
.profile-prompt {
    background-color: var(--alert-info-bg);
    border-left: 6px solid var(--primary-color); /* Use primary color for left border */
    color: var(--alert-info-text);
    padding: 15px;
    border-radius: 0.25rem;
}

/* Dashboard intro */
.dashboard-intro {
    /* Styles are already covered by .feed-item, etc. but can add specific ones if needed */
    margin-top: 20px;
}

.dashboard-intro ul {
    list-style-type: none;
    padding-left: 0;
    margin-top: 15px;
}

.dashboard-intro li {
    margin-bottom: 8px;
}
.dashboard-intro li a {
    font-weight: bold;
}

/* DARK THEME SPECIFIC OVERRIDES FOR BOOTSTRAP COMPONENTS */
body.dark-theme .navbar-brand {
    color: var(--header-text-color) !important;
}

body.dark-theme .navbar-nav .nav-link {
    color: var(--link-color);
}

body.dark-theme .card-header {
    background-color: var(--surface-color); /* Fundo do cabeçalho do card no Dark Mode */
    color: var(--text-color);
    border-color: var(--border-color);
}

body.dark-theme .form-control,
body.dark-theme .form-select {
    background-color: var(--surface-color);
    color: var(--text-color);
    border-color: var(--border-color);
}

body.dark-theme input::placeholder,
body.dark-theme textarea::placeholder {
    color: var(--text-muted-color);
}

body.dark-theme .dropdown-menu {
    background-color: var(--surface-color);
    color: var(--text-color);
    border-color: var(--border-color);
}

body.dark-theme .dropdown-item {
    color: var(--text-color);
}

body.dark-theme .dropdown-item:hover,
body.dark-theme .dropdown-item:focus {
    background-color: var(--secondary-color); /* Cor de hover mais escura para Dark Mode */
    color: var(--text-color);
}

body.dark-theme .dropdown-header {
    color: var(--text-muted-color);
}

body.dark-theme footer {
    background-color: var(--footer-bg-color) !important; /* !important para garantir a sobreposição do Bootstrap */
    color: var(--footer-text-color);
    border-top-color: var(--border-color) !important; /* !important para garantir a sobreposição */
}